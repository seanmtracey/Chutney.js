var chutney=function(){function r(t){e=t}function i(e){if(e!=="json"&&e!=="xml"){console.warn("Not a valid format. Must be JSON or XML");return false}n=e.toLowerCase()}function s(e){e+="&callback=?";return jQuery.ajax({type:"GET",dataType:n,url:e,cache:true})}function o(r,i){if(r.page===undefined)r.page=1;if(r.type===undefined)r.type="movies";if(r.pageLimit===undefined)r.pageLimit=10;if(r.query===undefined){console.error("You've not defined a search term");return false}var o=t;o+=r.type+"."+n+"?apikey="+e+"&q="+r.query+"&page_limit="+r.pageLimit+"&page="+r.page;if(i===undefined||typeof i!=="function")i=a;jQuery.when(s(o)).then(i)}function a(e){console.log(e)}function f(e){console.log("ERROR");console.log(e);return e}var e,t,n;var u=function(){function r(e){if(e===undefined){console.error("You've not passed a ID");return false}else{return true}}function i(i,o){if(!r(i))return false;var u=t;u+="movies/"+i+"."+n+"?apikey="+e;if(o===undefined||typeof o!=="function")o=a;jQuery.when(s(u)).then(o)}function o(i,o){if(!r(i))return false;var u=t;u+="movies/"+i+"/cast."+n+"?apikey="+e;if(o===undefined||typeof o!=="function")o=a;jQuery.when(s(u)).then(o)}function u(i,o){if(!r(i.ID))return false;if(i.limit===undefined)i.limit=5;var u=t;u+="movies/"+i.ID+"/similar."+n+"?limit="+i.limit+"&apikey="+e;if(o===undefined||typeof o!=="function")o=a;jQuery.when(s(u)).then(o)}return{info:i,cast:o,similar:u}}();(function(){t="http://api.rottentomatoes.com/api/public/v1.0/";n="json"})();return{key:r,format:i,search:o,movie:u.info,cast:u.cast,similar:u.similar}}()